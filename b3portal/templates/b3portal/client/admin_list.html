{% extends "base_layout.html" %}
{% load urltag listtocolumns i18n tagutils settingstag paginator navigation %}
{% block title %}{{ block.super }} | {% trans "Admin List" %}{% endblock %}
{% block navigation2 %}
{% include "b3portal/client/client_menu.html" %}
{% endblock %}
{% block main_content %}
<h3>{% trans "Admin List" %}</h3>
{% with client_list.paginator.count as count %}
<span>{% blocktrans %}There are {{count}} admins{%endblocktrans%}
<small>
<form style="display:inline;" method="post" action="{% url admin_list %}">
{% csrf_token %}
{% with request.server as current_server %}
<select name="server" onchange="this.form.submit()">
{% for server in request.server_list %}
<option value="{{server.uuid}}" {% if current_server == server.uuid %}selected="selected"{%endif%}>{{server.name}}</option>
{% endfor %}
</select>
{% endwith %}
</form>
</small>
</span>
{% endwith %}
<div id="client_list">
<table>
<thead>
<tr>
<th>{% trans "@id" %}</th>
<th>{% trans "Name" %}</th>
<th>{% trans "Group" %}</th>
<th>{% trans "IP Address" %}</th>
<th>{% trans "Last Seen" %}</th>
</tr>
</thead>
<tbody>
{% for client in client_list.object_list %}
<tr class="{% cycle "odd" "even" %}">
<td><a href="{% serverurl client_detail client.id %}">{{client.id}}</a></td>
<td name="autofill" alt="name">{{client.name}}</td>
<td>{{client.displayGroup}}</td>
<td name="autofill" alt="ip">{{client.ip}}</td>
<td>{{client.time_edit|date:"DATETIME_FORMAT"}}</td>
</tr>
{% endfor %}
</tbody>
<tfoot>
<tr>
<td colspan="5">
{% with client_list.object_list|length as number %}
{% blocktrans %}Showing {{number}} records{% endblocktrans %}
{% endwith %}
{% paginatepage client_list %}
</td>
</tr>
</tfoot>
</table>
</div>
{% endblock %}